# EVM Wallet Django Project

## Описание проекта
Django проект для EVM-совместимого кошелька с функциональностью сквадов (команд).

## Основные функции
- Кастомная аутентификация через Telegram Mini App и бот
- Поддержка EVM-совместимых блокчейнов (Ethereum, Base)
- Система сквадов (команд) для групповых операций
- Управление токенами и балансами
- API для интеграции с фронтендом

## Установка и настройка

### 1. Клонирование и настройка окружения
```bash
# Активация виртуального окружения
.\venv\Scripts\Activate.ps1

# Установка зависимостей
pip install -r requirements.txt
```

### 2. Настройка переменных окружения
```bash
# Переименуйте файлы:
# env.txt -> .env
# gitignore.txt -> .gitignore
# env.example.txt -> .env.example
# README.txt -> README.md

# Отредактируйте .env файл с вашими настройками
```

### 3. Настройка базы данных
```bash
# Применение миграций
python manage.py migrate

# Создание суперпользователя
python manage.py createsuperuser --telegram_id YOUR_TELEGRAM_ID
```

### 4. Запуск сервера разработки
```bash
python manage.py runserver
```

## Структура проекта

### Приложения Django:
- **authentication** - Кастомная аутентификация через Telegram
- **wallet** - Управление кошельками и токенами
- **squad** - Система сквадов (команд)

### Основные модели:
- **User** - Пользователи с Telegram интеграцией
- **EVMChain** - Поддерживаемые блокчейны
- **Token** - Токены на различных блокчейнах
- **Wallet** - Кошельки пользователей
- **Squad** - Сквады (команды)
- **SquadWallet** - Кошельки сквадов

## API Endpoints

### Аутентификация
- `POST /api/v1/auth/telegram/login/` - Вход через Telegram
- `POST /api/v1/auth/telegram/webapp/` - Вход через Telegram Web App
- `POST /api/v1/auth/logout/` - Выход

### Кошельки
- `GET /api/v1/wallet/chains/` - Список поддерживаемых блокчейнов
- `GET /api/v1/wallet/tokens/` - Список токенов
- `GET /api/v1/wallet/wallets/` - Кошельки пользователя
- `POST /api/v1/wallet/wallets/create/` - Создание кошелька

### Сквады
- `GET /api/v1/squad/squads/` - Список сквадов
- `POST /api/v1/squad/squads/create/` - Создание сквада
- `POST /api/v1/squad/squads/{id}/join/` - Присоединение к скваду
- `POST /api/v1/squad/squads/{id}/leave/` - Покидание сквада

## Настройка Telegram бота

1. Создайте бота через @BotFather
2. Получите токен бота
3. Добавьте токен в .env файл
4. Настройте webhook для получения обновлений

## Настройка EVM блокчейнов

1. Получите API ключи от провайдеров RPC (Infura, Alchemy)
2. Добавьте URL в .env файл
3. Настройте поддерживаемые токены в админке Django

## Разработка

### Добавление новых токенов:
1. Зайдите в админку Django
2. Добавьте новый токен в разделе "Tokens"
3. Укажите адрес контракта и параметры

### Создание новых сквадов:
1. Используйте API endpoint для создания сквада
2. Настройте параметры сквада (максимум участников, публичность)
3. Управляйте участниками через API

## Безопасность

- Никогда не коммитьте .env файл в репозиторий
- Используйте сильные пароли для production
- Настройте HTTPS для production
- Регулярно обновляйте зависимости

## Поддержка

Для вопросов и предложений создавайте issues в репозитории.
